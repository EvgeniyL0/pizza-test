(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{193:function(e,t,o){var content=o(201);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(75).default)("67066ad2",content,!0,{sourceMap:!1})},194:function(e,t,o){var content=o(203);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(75).default)("17513931",content,!0,{sourceMap:!1})},195:function(e,t,o){"use strict";o.r(t);o(200);var r=o(26),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("div",{staticClass:"loader"})}),[],!1,null,null,null);t.default=component.exports},196:function(e,t,o){"use strict";o.r(t);o(202);var r=o(26),component=Object(r.a)({},(function(){var e=this.$createElement;return(this._self._c||e)("p",{staticClass:"server-error-message"},[this._v("Ошибка сервера. Попробуйте ещё раз")])}),[],!1,null,null,null);t.default=component.exports},197:function(e,t,o){var r=o(2),n=o(198).values;r({target:"Object",stat:!0},{values:function(e){return n(e)}})},198:function(e,t,o){var r=o(8),n=o(47),l=o(14),c=o(76).f,d=function(e){return function(t){for(var o,d=l(t),m=n(d),f=m.length,i=0,h=[];f>i;)o=m[i++],r&&!c.call(d,o)||h.push(e?[o,d[o]]:d[o]);return h}};e.exports={entries:d(!0),values:d(!1)}},199:function(e,t,o){"use strict";o.d(t,"b",(function(){return r})),o.d(t,"c",(function(){return n})),o.d(t,"a",(function(){return l}));var r=/^[А-ЯЁ][а-яё]+(-[А-ЯЁ][а-яё]+)?\s[А-ЯЁ][а-яё]+(-[А-ЯЁ][а-яё]+)?$/,n=/^\+7\s\(\d{3}\)\s\d{3}-\d{4}$/,l=/^(0[1-9]|[12][0-9]|3[01])\.(0[1-9]|1[0-2])\.(19|20)\d\d$/},200:function(e,t,o){"use strict";o(193)},201:function(e,t,o){(t=o(74)(!1)).push([e.i,"@-webkit-keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rotation{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.loader{width:20px;height:20px;margin-left:auto;margin-right:auto;border-radius:100%;border:2px solid #d1d5db;border-left-color:#fff;-webkit-animation:rotation 1s linear infinite;animation:rotation 1s linear infinite}",""]),e.exports=t},202:function(e,t,o){"use strict";o(194)},203:function(e,t,o){(t=o(74)(!1)).push([e.i,".server-error-message{position:fixed;left:0;top:0;margin:0;padding:8px;background-color:#fca5a5;border-bottom-right-radius:6px;z-index:1}",""]),e.exports=t},204:function(e,t,o){"use strict";e.exports=function(e,t){return t||(t={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),t.hash&&(e+=t.hash),/["'() \t\n]/.test(e)||t.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},205:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOCIgaGVpZ2h0PSI0IiB2aWV3Qm94PSIwIDAgMTAgNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik0xLjU2MzU0IDIuNjEyMzVMMC42NjY5OTIgMy40MTYxOEwzLjU0ODc3IDUuOTk5OTFMOS4zMzM2NiAwLjgwMzczNkw4LjQzNzExIC05LjE1NTI3ZS0wNUwzLjU0ODc3IDQuMzkyMjVMMS41NjM1NCAyLjYxMjM1WiIgZmlsbD0id2hpdGUiLz4NCjwvc3ZnPg0K"},206:function(e,t,o){var content=o(216);"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,o(75).default)("469aa98f",content,!0,{sourceMap:!1})},214:function(e,t,o){e.exports=o.p+"img/avatar.e88b464.png"},215:function(e,t,o){"use strict";o(206)},216:function(e,t,o){var r=o(74),n=o(204),l=o(205);t=r(!1);var c=n(l);t.push([e.i,'.profile__button{background-color:#2563eb;color:#fff;border:none;border-radius:6px;cursor:pointer;display:inline-block}.profile__button:hover{background-color:#1d4ed8}.profile__input,.profile__select{padding-left:5px;border:1px solid #d1d5db;border-radius:6px;outline:none}.profile__custom-checkbox{display:flex;align-items:center;cursor:pointer}.profile__custom-checkbox input{position:absolute;z-index:-1;opacity:0}.profile__custom-checkbox span:before{content:"";display:inline-block;box-sizing:border-box;width:14px;height:14px;margin-right:8px;border:1px solid #d1d5db;border-radius:2px;background-position:50%;background-size:contain;background-repeat:no-repeat}.profile__custom-checkbox input:checked+span:before{background-color:#2563eb;background-image:url('+c+');border:none}.profile{width:70%;margin-left:auto;margin-top:80px;margin-right:auto;display:flex;justify-content:center;font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,"Noto Sans","Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji"}@media screen and (max-width:768px){.profile{font-size:14px}}@media screen and (max-width:625px){.profile{flex-direction:column;align-items:center;margin-top:30px}}.profile__avatar{width:128px;height:128px;-o-object-fit:cover;object-fit:cover;margin-left:20px;margin-top:20px}@media screen and (max-width:625px){.profile__avatar{order:0;margin:0}}.profile__form{position:relative;background-color:#fff;border-radius:4px;display:flex;flex-direction:column;align-items:center}.profile__form fieldset{display:flex;justify-content:space-between;width:90%;border:none;padding:0}@media screen and (max-width:625px){.profile__form{order:1}}.profile__input{min-width:250px;height:30px;margin-top:25px}.profile__select{min-width:180px;height:30px;margin-left:10px;margin-top:25px}.profile__custom-checkbox,.profile__select{margin-bottom:25px}.profile__button{width:100px;height:40px}.profile__error-message,.profile__error-message_show{display:block;font-size:16px;color:#fff}@media screen and (max-width:768px){.profile__error-message,.profile__error-message_show{font-size:14px}}.profile__error-message_show{color:#ef4444}',""]),e.exports=t},229:function(e,t,o){"use strict";o.r(t);o(49),o(102),o(34),o(197);var r=o(199),n=o(195),l=o(196),c={components:{Loader:n.default,ServerError:l.default},data:function(){return{employee:{},roles:[],loading:!1,error:!1}},computed:{validation:function(){return{name:r.b.test(this.employee.name),phone:r.c.test(this.employee.phone),birthday:r.a.test(this.employee.birthday)}},notValid:function(){return Object.values(this.validation).some((function(e){return!1===e}))}},methods:{updateData:function(){var e=this;this.error=!1,this.loading=!0,this.$store.dispatch("editItem",this.employee).then((function(){e.loading=!1,e.$router.push("/")})).catch((function(t){e.error=!0,e.loading=!1}))}},created:function(){0!==this.$store.state.employees.length?(this.employee=Object.assign({},this.employee,this.$store.getters.getEmployee(this.$route.params.id)),this.roles=this.$store.getters.getRoles.slice(1),localStorage.setItem("employee",JSON.stringify(this.employee)),localStorage.setItem("roles",JSON.stringify(this.roles))):(this.employee=JSON.parse(localStorage.getItem("employee")),this.roles=JSON.parse(localStorage.getItem("roles")))},beforeRouteLeave:function(e,t,o){Object.assign(this.employee,this.$store.getters.getEmployee(this.$route.params.id)),o()}},d=(o(215),o(26)),component=Object(d.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"profile"},[e.error?r("server-error"):e._e(),e._v(" "),r("form",{staticClass:"profile__form",on:{submit:function(t){return t.preventDefault(),e.updateData(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.name,expression:"employee.name"}],staticClass:"profile__input",attrs:{type:"text",name:"name"},domProps:{value:e.employee.name},on:{input:function(t){t.target.composing||e.$set(e.employee,"name",t.target.value)}}}),e._v(" "),r("span",{class:["profile__error-message",{"profile__error-message_show":!e.validation.name}]},[e._v("Введите фамилию и имя")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.phone,expression:"employee.phone"}],staticClass:"profile__input",attrs:{type:"text",name:"phone"},domProps:{value:e.employee.phone},on:{input:function(t){t.target.composing||e.$set(e.employee,"phone",t.target.value)}}}),e._v(" "),r("span",{class:["profile__error-message",{"profile__error-message_show":!e.validation.phone}]},[e._v("Введите телефон в формате +7 (ххх) ххх-хххх")]),e._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.birthday,expression:"employee.birthday"}],staticClass:"profile__input",attrs:{type:"text",name:"birthday"},domProps:{value:e.employee.birthday},on:{input:function(t){t.target.composing||e.$set(e.employee,"birthday",t.target.value)}}}),e._v(" "),r("span",{class:["profile__error-message",{"profile__error-message_show":!e.validation.birthday}]},[e._v("Введите дату в формате ДД.ММ.ГГГГ")]),e._v(" "),r("select",{directives:[{name:"model",rawName:"v-model",value:e.employee.role,expression:"employee.role"}],staticClass:"profile__select",attrs:{name:"role"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.employee,"role",t.target.multiple?o:o[0])}}},e._l(e.roles,(function(t,o){return r("option",{key:o,domProps:{value:t}},[e._v("\n        "+e._s(t)+"\n      ")])})),0),e._v(" "),r("label",{staticClass:"profile__custom-checkbox"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.employee.isArchive,expression:"employee.isArchive"}],attrs:{type:"checkbox",name:"status"},domProps:{checked:Array.isArray(e.employee.isArchive)?e._i(e.employee.isArchive,null)>-1:e.employee.isArchive},on:{change:function(t){var o=e.employee.isArchive,r=t.target,n=!!r.checked;if(Array.isArray(o)){var l=e._i(o,null);r.checked?l<0&&e.$set(e.employee,"isArchive",o.concat([null])):l>-1&&e.$set(e.employee,"isArchive",o.slice(0,l).concat(o.slice(l+1)))}else e.$set(e.employee,"isArchive",n)}}}),e._v(" "),r("span",[e._v("В архиве")])]),e._v(" "),r("fieldset",[r("button",{staticClass:"profile__button",attrs:{type:"submit",disabled:e.notValid||e.loading}},[e.loading?r("loader"):r("span",[e._v("Сохранить")])],1),e._v(" "),r("button",{staticClass:"profile__button",on:{click:function(t){return t.preventDefault(),e.$router.push("/")}}},[e._v("\n        Отмена\n      ")])])]),e._v(" "),r("img",{staticClass:"profile__avatar",attrs:{src:o(214),alt:"employee-avatar"}})],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{ServerError:o(196).default,Loader:o(195).default})}}]);